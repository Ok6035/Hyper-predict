<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Termux Prediction & 999okwin Simulator</title>
  <style>
    :root {
      --bg: #0f1724;
      --card: #0b1220;
      --accent: #f59e0b;
      --muted: #6b7280;
      --success: #16a34a;
      --danger: #ef4444;
      --violet: #7c3aed;
      --glass: rgba(255, 255, 255, 0.03);
      --mono: #cbd5e1;
    }

    * {
      box-sizing: border-box
    }

    html,
    body {
      height: 100%;
      margin: 0;
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
      color: var(--mono);
      background: linear-gradient(180deg, #041025 0%, #071225 60%);
    }

    header {
      padding: 18px 24px;
      display: flex;
      align-items: center;
      justify-content: space-between
    }

    h1 {
      margin: 0;
      font-size: 18px;
      color: var(--accent)
    }

    nav button {
      margin-left: 8px;
      padding: 8px 12px;
      border-radius: 8px;
      border: 0;
      background: transparent;
      color: var(--mono);
      cursor: pointer
    }

    nav button.active {
      background: var(--glass);
      box-shadow: 0 2px 8px rgba(2, 6, 23, 0.6);
      border: 1px solid rgba(255, 255, 255, 0.03)
    }

    main {
      padding: 20px;
      display: flex;
      gap: 20px;
      flex-direction: column;
      max-width: 980px;
      margin: 0 auto
    }

    .card {
      background: linear-gradient(180deg, rgba(255, 255, 255, 0.02), rgba(255, 255, 255, 0.01));
      padding: 18px;
      border-radius: 12px;
      border: 1px solid rgba(255, 255, 255, 0.03)
    }

    h2 {
      margin-top: 0;
      color: #fff
    }

    label {
      display: block;
      margin-top: 12px;
      color: var(--muted);
      font-size: 13px
    }

    input[type="text"],
    input[type="number"] {
      width: 100%;
      padding: 10px;
      margin-top: 8px;
      border-radius: 8px;
      border: 1px solid rgba(255, 255, 255, 0.04);
      background: transparent;
      color: var(--mono)
    }

    .controls {
      margin-top: 12px;
      display: flex;
      gap: 8px
    }

    button {
      padding: 10px 14px;
      border-radius: 8px;
      border: 0;
      background: var(--accent);
      color: #061019;
      cursor: pointer
    }

    button.muted {
      background: transparent;
      color: var(--muted);
      border: 1px solid rgba(255, 255, 255, 0.02)
    }

    .output {
      margin-top: 14px
    }

    .hidden {
      display: none
    }

    .result-row {
      display: flex;
      justify-content: space-between;
      padding: 6px 0;
      border-bottom: 1px solid rgba(255, 255, 255, 0.02)
    }

    .chip {
      display: inline-block;
      padding: 6px 10px;
      border-radius: 999px;
      color: #fff
    }

    .chip.red {
      background: var(--danger)
    }

    .chip.green {
      background: var(--success)
    }

    .chip.violet {
      background: var(--violet)
    }

    .message {
      margin-top: 10px;
      padding: 10px;
      border-radius: 8px
    }

    .message.success {
      background: rgba(22, 163, 74, 0.12);
      color: var(--success)
    }

    .message.warn {
      background: rgba(245, 158, 11, 0.08);
      color: var(--accent)
    }

    .message.danger {
      background: rgba(239, 68, 68, 0.08);
      color: var(--danger)
    }

    .matrix-area {
      height: 140px;
      background: #05080b;
      border-radius: 8px;
      padding: 10px;
      margin-top: 12px;
      overflow: auto;
      font-family: monospace;
      color: #2ee66e;
      line-height: 1.05
    }

    .progress-list {
      margin-top: 12px;
      display: flex;
      flex-direction: column;
      gap: 8px
    }

    .progress-row {
      display: flex;
      gap: 12px;
      align-items: center
    }

    .progress-row span {
      width: 110px;
      color: var(--muted);
      font-size: 13px
    }

    .progress {
      flex: 1;
      background: rgba(255, 255, 255, 0.02);
      height: 14px;
      border-radius: 8px;
      overflow: hidden
    }

    .progress .bar {
      height: 100%;
      width: 0;
      background: linear-gradient(90deg, #22c55e, #16a34a);
      transition: width 0.2s ease
    }

    .sim-logs {
      margin-top: 12px
    }

    .logbox {
      background: #02040a;
      padding: 10px;
      border-radius: 8px;
      height: 130px;
      overflow: auto;
      color: #cbd5e1;
      font-family: monospace
    }

    .log-actions {
      display: flex;
      gap: 8px;
      margin-top: 8px
    }

    .status-top {
      display: flex;
      gap: 12px;
      justify-content: space-between;
      color: var(--muted);
      font-size: 14px
    }

    footer {
      padding: 18px;
      text-align: center;
      color: var(--muted)
    }

    @media(min-width:880px) {
      main {
        flex-direction: row
      }

      .panel {
        flex: 1
      }
    }
  </style>
</head>
<body>
  <header>
    <h1>Termux Prediction System v1.2 â€” Web Tool</h1>
    <nav>
      <button id="tab-prediction" class="active">Prediction</button>
      <button id="tab-hack">999okwin Simulator</button>
    </nav>
  </header>

  <main>
    <section id="panel-prediction" class="panel">
      <div class="card">
        <h2>Prediction</h2>
        <p>Enter a period number to compute Color, Number and Winning Probability (logic ported from your shell script).</p>

        <label for="period-input">Period Number</label>
        <input id="period-input" type="number" min="0" placeholder="e.g. 12345" />

        <div class="controls">
          <button id="predict-btn">Predict</button>
          <button id="reset-predict-btn" class="muted">Reset</button>
        </div>

        <div id="prediction-output" class="output hidden">
          <h3>Prediction Results</h3>
          <div class="result-row"><span>Period Number:</span><strong id="out-period"></strong></div>
          <div class="result-row"><span>Color Result:</span><strong id="out-color" class="chip"></strong></div>
          <div class="result-row"><span>Number Result:</span><strong id="out-number"></strong></div>
          <div class="result-row"><span>Winning Probability:</span><strong id="out-probability"></strong></div>
          <div id="out-message" class="message"></div>
        </div>
      </div>
    </section>

    <section id="panel-hack" class="panel hidden">
      <div class="card">
        <h2>999okwin Hack Simulator</h2>
        <p>A front-end simulation of the original bash scripts: matrix effect, progress bars, accuracy and log generation.</p>

        <label for="target-input">Target ID</label>
        <input id="target-input" type="text" placeholder="Enter target ID (e.g. 999okwin123)" />

        <div class="controls">
          <button id="start-hack">Start Simulation</button>
          <button id="abort-hack" class="muted">Abort</button>
        </div>

        <div id="sim-status" class="output hidden">
          <div class="status-top">
            <div>Last accuracy: <strong id="initial-accuracy">--%</strong></div>
            <div>Final accuracy: <strong id="final-accuracy">--%</strong></div>
            <div>Result: <strong id="sim-result">--</strong></div>
          </div>

          <div class="matrix-area" id="matrix-area" aria-hidden="true"></div>

          <div class="progress-list">
            <div class="progress-row"><span>Scanning</span><div class="progress"><div class="bar" id="pb-scan"></div></div></div>
            <div class="progress-row"><span>Connecting</span><div class="progress"><div class="bar" id="pb-connect"></div></div></div>
            <div class="progress-row"><span>Extracting</span><div class="progress"><div class="bar" id="pb-extract"></div></div></div>
            <div class="progress-row"><span>Encrypting</span><div class="progress"><div class="bar" id="pb-encrypt"></div></div></div>
            <div class="progress-row"><span>Transferring</span><div class="progress"><div class="bar" id="pb-transfer"></div></div></div>
            <div class="progress-row"><span>Decrypting</span><div class="progress"><div class="bar" id="pb-decrypt"></div></div></div>
          </div>

          <div class="sim-logs">
            <h4>Log</h4>
            <pre id="log-box" class="logbox"></pre>
            <div class="log-actions">
              <button id="download-log">Download Log</button>
              <button id="clear-log" class="muted">Clear Log</button>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <small>Converted to a web tool by your assistant.</small>
  </footer>

  <script>
    // Main JS for Prediction & 999okwin Simulator

    // ---- Tab switching ----
    const tabPrediction = document.getElementById('tab-prediction');
    const tabHack = document.getElementById('tab-hack');
    const panelPrediction = document.getElementById('panel-prediction');
    const panelHack = document.getElementById('panel-hack');

    tabPrediction.addEventListener('click', () => {
      tabPrediction.classList.add('active');
      tabHack.classList.remove('active');
      panelPrediction.classList.remove('hidden');
      panelHack.classList.add('hidden');
    });
    tabHack.addEventListener('click', () => {
      tabHack.classList.add('active');
      tabPrediction.classList.remove('active');
      panelHack.classList.remove('hidden');
      panelPrediction.classList.add('hidden');
    });

    // ---------------- Prediction Logic ----------------
    const predictBtn = document.getElementById('predict-btn');
    const resetPredictBtn = document.getElementById('reset-predict-btn');
    const periodInput = document.getElementById('period-input');

    const outWrap = document.getElementById('prediction-output');
    const outPeriod = document.getElementById('out-period');
    const outColor = document.getElementById('out-color');
    const outNumber = document.getElementById('out-number');
    const outProbability = document.getElementById('out-probability');
    const outMessage = document.getElementById('out-message');

    function calculateProbability(period) {
      // ported from bash: magic_number = (period * 371) % 1000; probability = magic_number % 100
      const magic = (period * 371) % 1000;
      let prob = magic % 100;
      if (prob < 65) prob = Math.min(prob + 35, 100);
      return prob;
    }

    function predictPeriod() {
      const raw = periodInput.value;
      if (raw === '' || isNaN(raw) || Number(raw) < 0) {
        alert('Please enter a non-negative integer period number.');
        return;
      }
      const period = Math.floor(Number(raw));
      const colorCode = period % 3;
      const number = period % 10;
      const probability = calculateProbability(period);

      let colorName = '';
      let colorClass = '';
      if (colorCode === 0) {
        colorName = 'RED';
        colorClass = 'red';
      } else if (colorCode === 1) {
        colorName = 'GREEN';
        colorClass = 'green';
      } else {
        colorName = 'VIOLET';
        colorClass = 'violet';
      }

      outPeriod.textContent = period;
      outColor.textContent = colorName;
      outColor.className = 'chip ' + colorClass;
      outNumber.textContent = number;
      outProbability.textContent = probability + '%';

      outWrap.classList.remove('hidden');
      outMessage.className = 'message';
      if (probability > 85) {
        outMessage.classList.add('success');
        outMessage.textContent = '[+] High chance of winning!';
      } else if (probability > 65) {
        outMessage.classList.add('warn');
        outMessage.textContent = '[!] Moderate chance of winning';
      } else {
        outMessage.classList.add('danger');
        outMessage.textContent = '[-] Low chance of winning';
      }
    }

    predictBtn.addEventListener('click', predictPeriod);
    resetPredictBtn.addEventListener('click', () => {
      periodInput.value = '';
      outWrap.classList.add('hidden');
    });

    // ---------------- 999okwin Simulator ----------------
    const startHackBtn = document.getElementById('start-hack');
    const abortHackBtn = document.getElementById('abort-hack');
    const simStatus = document.getElementById('sim-status');
    const matrixArea = document.getElementById('matrix-area');
    const logBox = document.getElementById('log-box');
    const downloadLogBtn = document.getElementById('download-log');
    const clearLogBtn = document.getElementById('clear-log');

    const initialAccuracyEl = document.getElementById('initial-accuracy');
    const finalAccuracyEl = document.getElementById('final-accuracy');
    const simResultEl = document.getElementById('sim-result');

    const pbScan = document.getElementById('pb-scan');
    const pbConnect = document.getElementById('pb-connect');
    const pbExtract = document.getElementById('pb-extract');
    const pbEncrypt = document.getElementById('pb-encrypt');
    const pbTransfer = document.getElementById('pb-transfer');
    const pbDecrypt = document.getElementById('pb-decrypt');

    let matrixInterval = null;
    let running = false;
    let currentLog = '';

    function appendLog(line) {
      const time = new Date().toLocaleTimeString();
      currentLog += `[${time}] ${line}\n`;
      logBox.textContent = currentLog;
      logBox.scrollTop = logBox.scrollHeight;
    }

    function randBetween(min, max) {
      return Math.floor(Math.random() * (max - min + 1)) + min;
    }

    function startMatrixEffect() {
      matrixArea.textContent = '';
      matrixInterval = setInterval(() => {
        // create a line of random 0/1, length based on width
        const width = Math.max(60, Math.floor(matrixArea.clientWidth / 6));
        let line = '';
        for (let i = 0; i < width; i++) {
          line += (Math.random() > 0.5 ? '1' : '0');
        }
        // occasionally include some words
        if (Math.random() < 0.08) {
          const phrases = ['INITIALIZING', 'BYPASS', 'INTRUSION', 'DECRYPT', 'EXFIL', 'BACKDOOR'];
          const p = phrases[Math.floor(Math.random() * phrases.length)];
          const pos = Math.floor(Math.random() * (Math.max(1, width - p.length)));
          line = line.substring(0, pos) + p + line.substring(pos + p.length);
        }
        matrixArea.textContent = line + '\n' + matrixArea.textContent;
        // keep matrixArea to a limited amount
        const maxLines = 200;
        const lines = matrixArea.textContent.split('\n').slice(0, maxLines);
        matrixArea.textContent = lines.join('\n');
      }, 80);
    }

    function stopMatrixEffect() {
      if (matrixInterval) clearInterval(matrixInterval);
      matrixInterval = null;
    }

    function animateProgressBar(barEl, durationSecs) {
      return new Promise(resolve => {
        barEl.style.width = '0%';
        const start = Date.now();
        const duration = Math.max(350, durationSecs * 1000);

        function tick() {
          const elapsed = Date.now() - start;
          const pct = Math.min(100, Math.floor((elapsed / duration) * 100));
          barEl.style.width = pct + '%';
          if (pct >= 100) {
            resolve();
          } else {
            requestAnimationFrame(tick);
          }
        }
        tick();
      });
    }

    async function runSimulation(targetId) {
      if (running) return;
      running = true;
      simStatus.classList.remove('hidden');
      currentLog = '';
      logBox.textContent = '';

      const initialAcc = randBetween(85, 100);
      initialAccuracyEl.textContent = initialAcc + '%';
      appendLog(`Last accuracy: ${initialAcc}%`);
      appendLog(`Target ID: ${targetId || '(none)'}`);

      startMatrixEffect();
      appendLog('Scanning network for target...');
      await animateProgressBar(pbScan, 4);
      appendLog('Scan complete.');

      appendLog('Connecting to target...');
      await animateProgressBar(pbConnect, 2);
      appendLog('Connected.');

      appendLog('Extracting data from target...');
      await animateProgressBar(pbExtract, 3);
      appendLog('Extraction complete.');

      appendLog('Encrypting data...');
      await animateProgressBar(pbEncrypt, 2);
      appendLog('Data encrypted.');

      appendLog('Transferring data to secure server...');
      await animateProgressBar(pbTransfer, 4);
      appendLog('Transfer complete.');

      appendLog('Decrypting data...');
      await animateProgressBar(pbDecrypt, 2);
      appendLog('Decryption complete.');

      stopMatrixEffect();

      // Generate result and final accuracy
      const result = (Math.random() < 0.5) ? 'ðŸŸ¢' : 'ðŸ”´';
      const finalAcc = randBetween(90, 100);
      simResultEl.textContent = `${result} Target ID: ${targetId || '(none)'}`;
      finalAccuracyEl.textContent = finalAcc + '%';
      appendLog(`Final Accuracy: ${finalAcc}%`);
      appendLog(`Result: ${result}`);

      // prepare log file content
      appendLog('Generating log file...');
      appendLog('Log file ready.');

      running = false;
    }

    startHackBtn.addEventListener('click', () => {
      const targetId = document.getElementById('target-input').value.trim();
      runSimulation(targetId);
    });

    abortHackBtn.addEventListener('click', () => {
      if (!running) {
        appendLog('No simulation currently running.');
        return;
      }
      // Simple abort: stop matrix and reset bars
      stopMatrixEffect();
      [pbScan, pbConnect, pbExtract, pbEncrypt, pbTransfer, pbDecrypt].forEach(b => b.style.width = '0%');
      appendLog('Simulation aborted by user.');
      running = false;
    });

    downloadLogBtn.addEventListener('click', () => {
      if (!currentLog) {
        alert('No log available yet. Run a simulation first.');
        return;
      }
      const blob = new Blob([`Hack Log\n--------\n${currentLog}`], {
        type: 'text/plain;charset=utf-8'
      });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = 'hack_log.txt';
      document.body.appendChild(a);
      a.click();
      setTimeout(() => {
        URL.revokeObjectURL(url);
        a.remove();
      }, 500);
    });

    clearLogBtn.addEventListener('click', () => {
      currentLog = '';
      logBox.textContent = '';
      appendLog('Logs cleared.');
    });
  </script>
</body>
</html>
